{"version":3,"sources":["jquery.fitvids.js","gallery-card.js","infinite-scroll.js","sticky-nav-title.js","zoom.min.js"],"names":["$","fn","fitVids","options","head","div","settings","customSelector","ignore","document","getElementById","getElementsByTagName","createElement","innerHTML","appendChild","childNodes","extend","this","each","selectors","push","ignoreList","$allVideos","find","join","not","aspectRatio","videoName","$this","parents","length","tagName","toLowerCase","parent","css","isNaN","attr","parseInt","height","width","_count","wrap","removeAttr","window","jQuery","Zepto","addEventListener","querySelectorAll","forEach","image","container","closest","ratio","attributes","value","style","flex","feedElement","buffer","ticking","loading","lastScrollY","lastWindowHeight","lastDocumentHeight","nextElement","querySelector","onPageLoad","status","removeEventListener","onScroll","onResize","response","item","importNode","resNextElement","href","documentElement","scrollHeight","onUpdate","xhr","XMLHttpRequest","responseType","open","send","requestTick","requestAnimationFrame","scrollY","innerHeight","passive","Casper","stickyNavTitle","nav","navSelector","title","titleSelector","update","getBoundingClientRect","top","offsetHeight","classList","add","activeClass","remove","t","o","_activeZoom","_initialScrollPosition","_initialTouchPosition","_touchMoveListener","_$document","_$window","_$body","body","_boundClick","proxy","_clickHandler","i","_fullHeight","_fullWidth","_overlay","_targetImageWrap","_targetImage","prototype","listen","on","_zoom","e","target","hasClass","metaKey","ctrlKey","getAttribute","src","OFFSET","_activeZoomClose","zoomImage","_scrollHandler","_keyHandler","_touchStart","attachEvent","bubbles","stopPropagation","cancelBubble","dispose","close","off","scrollTop","Math","abs","keyCode","preventDefault","event","returnValue","touches","pageY","_touchMove","_MAX_WIDTH","_MAX_HEIGHT","onload","Number","_zoomOriginal","className","parentNode","insertBefore","addClass","_calculateZoom","_triggerAnimation","offsetWidth","a","s","r","n","h","_imgScaleFactor","offset","left","_translateY","_translateX","support","transition","-webkit-transform","-ms-transform","transform","removeClass","one","end","emulateTransitionEnd","replaceChild","removeChild","setTimeout","trigger","WebkitTransition","MozTransition","OTransition","require"],"mappings":"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","file":"casper.js","sourcesContent":["/*jshint browser:true */\n/*!\n* FitVids 1.3\n*\n*\n* Copyright 2017, Chris Coyier + Dave Rupert + Ghost Foundation\n* This is an unofficial release, ported by John O'Nolan\n* Credit to Thierry Koblentz - http://www.alistapart.com/articles/creating-intrinsic-ratios-for-video/\n* Released under the MIT license\n*\n*/\n\n;(function( $ ){\n\n  'use strict';\n\n  $.fn.fitVids = function( options ) {\n    var settings = {\n      customSelector: null,\n      ignore: null\n    };\n\n    if(!document.getElementById('fit-vids-style')) {\n      // appendStyles: https://github.com/toddmotto/fluidvids/blob/master/dist/fluidvids.js\n      var head = document.head || document.getElementsByTagName('head')[0];\n      var css = '.fluid-width-video-container{flex-grow: 1;width:100%;}.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}';\n      var div = document.createElement(\"div\");\n      div.innerHTML = '<p>x</p><style id=\"fit-vids-style\">' + css + '</style>';\n      head.appendChild(div.childNodes[1]);\n    }\n\n    if ( options ) {\n      $.extend( settings, options );\n    }\n\n    return this.each(function(){\n      var selectors = [\n        'iframe[src*=\"player.vimeo.com\"]',\n        'iframe[src*=\"youtube.com\"]',\n        'iframe[src*=\"youtube-nocookie.com\"]',\n        'iframe[src*=\"kickstarter.com\"][src*=\"video.html\"]',\n        'object',\n        'embed'\n      ];\n\n      if (settings.customSelector) {\n        selectors.push(settings.customSelector);\n      }\n\n      var ignoreList = '.fitvidsignore';\n\n      if(settings.ignore) {\n        ignoreList = ignoreList + ', ' + settings.ignore;\n      }\n\n      var $allVideos = $(this).find(selectors.join(','));\n      $allVideos = $allVideos.not('object object'); // SwfObj conflict patch\n      $allVideos = $allVideos.not(ignoreList); // Disable FitVids on this video.\n\n      $allVideos.each(function(){\n        var $this = $(this);\n        if($this.parents(ignoreList).length > 0) {\n          return; // Disable FitVids on this video.\n        }\n        if (this.tagName.toLowerCase() === 'embed' && $this.parent('object').length || $this.parent('.fluid-width-video-wrapper').length) { return; }\n        if ((!$this.css('height') && !$this.css('width')) && (isNaN($this.attr('height')) || isNaN($this.attr('width'))))\n        {\n          $this.attr('height', 9);\n          $this.attr('width', 16);\n        }\n        var height = ( this.tagName.toLowerCase() === 'object' || ($this.attr('height') && !isNaN(parseInt($this.attr('height'), 10))) ) ? parseInt($this.attr('height'), 10) : $this.height(),\n            width = !isNaN(parseInt($this.attr('width'), 10)) ? parseInt($this.attr('width'), 10) : $this.width(),\n            aspectRatio = height / width;\n        if(!$this.attr('name')){\n          var videoName = 'fitvid' + $.fn.fitVids._count;\n          $this.attr('name', videoName);\n          $.fn.fitVids._count++;\n        }\n        $this.wrap('<div class=\"fluid-width-video-container\"><div class=\"fluid-width-video-wrapper\"></div></div>').parent('.fluid-width-video-wrapper').css('padding-top', (aspectRatio * 100)+'%');\n        $this.removeAttr('height').removeAttr('width');\n      });\n    });\n  };\n\n  // Internal counter for unique video names.\n  $.fn.fitVids._count = 0;\n\n// Works with either jQuery or Zepto\n})( window.jQuery || window.Zepto );\n","/* eslint-env browser */\n\n/**\n * Gallery card support\n * Used on any individual post/page\n *\n * Detects when a gallery card has been used and applies sizing to make sure\n * the display matches what is seen in the editor.\n */\n\n(function (window, document) {\n    var resizeImagesInGalleries = function resizeImagesInGalleries() {\n        var images = document.querySelectorAll('.kg-gallery-image img');\n        images.forEach(function (image) {\n            var container = image.closest('.kg-gallery-image');\n            var width = image.attributes.width.value;\n            var height = image.attributes.height.value;\n            var ratio = width / height;\n            container.style.flex = ratio + ' 1 0%';\n        });\n    };\n\n    document.addEventListener('DOMContentLoaded', resizeImagesInGalleries);\n})(window, document);\n","/* eslint-env browser */\n\n/**\n * Infinite Scroll\n * Used on all pages where there is a list of posts (homepage, tag index, etc).\n *\n * When the page is scrolled to 300px from the bottom, the next page of posts\n * is fetched by following the the <link rel=\"next\" href=\"...\"> that is output\n * by {{ghost_head}}.\n *\n * The individual post items are extracted from the fetched pages by looking for\n * a wrapper element with the class \"post-card\". Any found elements are appended\n * to the element with the class \"post-feed\" in the currently viewed page.\n */\n\n(function (window, document) {\n    // next link element\n    var nextElement = document.querySelector('link[rel=next]');\n    if (!nextElement) {\n        return;\n    }\n\n    // post feed element\n    var feedElement = document.querySelector('.post-feed');\n    if (!feedElement) {\n        return;\n    }\n\n    var buffer = 300;\n\n    var ticking = false;\n    var loading = false;\n\n    var lastScrollY = window.scrollY;\n    var lastWindowHeight = window.innerHeight;\n    var lastDocumentHeight = document.documentElement.scrollHeight;\n\n    function onPageLoad() {\n        if (this.status === 404) {\n            window.removeEventListener('scroll', onScroll);\n            window.removeEventListener('resize', onResize);\n            return;\n        }\n\n        // append contents\n        var postElements = this.response.querySelectorAll('.post-card');\n        postElements.forEach(function (item) {\n            // document.importNode is important, without it the item's owner\n            // document will be different which can break resizing of\n            // `object-fit: cover` images in Safari\n            feedElement.appendChild(document.importNode(item, true));\n        });\n\n        // set next link\n        var resNextElement = this.response.querySelector('link[rel=next]');\n        if (resNextElement) {\n            nextElement.href = resNextElement.href;\n        } else {\n            window.removeEventListener('scroll', onScroll);\n            window.removeEventListener('resize', onResize);\n        }\n\n        // sync status\n        lastDocumentHeight = document.documentElement.scrollHeight;\n        ticking = false;\n        loading = false;\n    }\n\n    function onUpdate() {\n        // return if already loading\n        if (loading) {\n            return;\n        }\n\n        // return if not scroll to the bottom\n        if (lastScrollY + lastWindowHeight <= lastDocumentHeight - buffer) {\n            ticking = false;\n            return;\n        }\n\n        loading = true;\n\n        var xhr = new window.XMLHttpRequest();\n        xhr.responseType = 'document';\n\n        xhr.addEventListener('load', onPageLoad);\n\n        xhr.open('GET', nextElement.href);\n        xhr.send(null);\n    }\n\n    function requestTick() {\n        ticking || window.requestAnimationFrame(onUpdate);\n        ticking = true;\n    }\n\n    function onScroll() {\n        lastScrollY = window.scrollY;\n        requestTick();\n    }\n\n    function onResize() {\n        lastWindowHeight = window.innerHeight;\n        lastDocumentHeight = document.documentElement.scrollHeight;\n        requestTick();\n    }\n\n    window.addEventListener('scroll', onScroll, {passive: true});\n    window.addEventListener('resize', onResize);\n\n    requestTick();\n})(window, document);\n","/* eslint-env browser */\n\n/**\n * Nav/Title replacement\n * Used on invividual post pages, displays the post title in place of the nav\n * bar when scrolling past the title\n *\n * Usage:\n * ```\n * Casper.stickyTitle({\n *     navSelector: '.site-nav-main',\n *     titleSelector: '.post-full-title',\n *     activeClass: 'nav-post-title-active'\n * });\n * ```\n */\n\n(function (window, document) {\n    // set up Casper as a global object\n    if (!window.Casper) {\n        window.Casper = {};\n    }\n\n    window.Casper.stickyNavTitle = function stickyNavTitle(options) {\n        var nav = document.querySelector(options.navSelector);\n        var title = document.querySelector(options.titleSelector);\n\n        var lastScrollY = window.scrollY;\n        var ticking = false;\n\n        function onScroll() {\n            lastScrollY = window.scrollY;\n            requestTick();\n        }\n\n        function requestTick() {\n            if (!ticking) {\n                requestAnimationFrame(update);\n            }\n            ticking = true;\n        }\n\n        function update() {\n            var trigger = title.getBoundingClientRect().top + window.scrollY;\n            var triggerOffset = title.offsetHeight + 35;\n\n            // show/hide post title\n            if (lastScrollY >= trigger + triggerOffset) {\n                nav.classList.add(options.activeClass);\n            } else {\n                nav.classList.remove(options.activeClass);\n            }\n\n            ticking = false;\n        }\n\n        window.addEventListener('scroll', onScroll, {passive: true});\n\n        update();\n    };\n})(window, document);\n","/**\n * zoom.js - It's the best way to zoom an image\n * @version v0.0.2\n * @link https://github.com/fat/zoom.js\n * @license MIT\n */\n\n+function(t){\"use strict\";function o(){this._activeZoom=this._initialScrollPosition=this._initialTouchPosition=this._touchMoveListener=null,this._$document=t(document),this._$window=t(window),this._$body=t(document.body),this._boundClick=t.proxy(this._clickHandler,this)}function i(o){this._fullHeight=this._fullWidth=this._overlay=this._targetImageWrap=null,this._targetImage=o,this._$body=t(document.body)}o.prototype.listen=function(){this._$body.on(\"click\",'[data-action=\"zoom\"]',t.proxy(this._zoom,this))},o.prototype._zoom=function(o){var e=o.target;if(e&&\"IMG\"==e.tagName&&!this._$body.hasClass(\"zoom-overlay-open\"))return o.metaKey||o.ctrlKey?window.open(o.target.getAttribute(\"data-original\")||o.target.src,\"_blank\"):void(e.width>=t(window).width()-i.OFFSET||(this._activeZoomClose(!0),this._activeZoom=new i(e),this._activeZoom.zoomImage(),this._$window.on(\"scroll.zoom\",t.proxy(this._scrollHandler,this)),this._$document.on(\"keyup.zoom\",t.proxy(this._keyHandler,this)),this._$document.on(\"touchstart.zoom\",t.proxy(this._touchStart,this)),document.addEventListener?document.addEventListener(\"click\",this._boundClick,!0):document.attachEvent(\"onclick\",this._boundClick,!0),\"bubbles\"in o?o.bubbles&&o.stopPropagation():o.cancelBubble=!0))},o.prototype._activeZoomClose=function(t){this._activeZoom&&(t?this._activeZoom.dispose():this._activeZoom.close(),this._$window.off(\".zoom\"),this._$document.off(\".zoom\"),document.removeEventListener(\"click\",this._boundClick,!0),this._activeZoom=null)},o.prototype._scrollHandler=function(o){null===this._initialScrollPosition&&(this._initialScrollPosition=t(window).scrollTop());var i=this._initialScrollPosition-t(window).scrollTop();Math.abs(i)>=40&&this._activeZoomClose()},o.prototype._keyHandler=function(t){27==t.keyCode&&this._activeZoomClose()},o.prototype._clickHandler=function(t){t.preventDefault?t.preventDefault():event.returnValue=!1,\"bubbles\"in t?t.bubbles&&t.stopPropagation():t.cancelBubble=!0,this._activeZoomClose()},o.prototype._touchStart=function(o){this._initialTouchPosition=o.touches[0].pageY,t(o.target).on(\"touchmove.zoom\",t.proxy(this._touchMove,this))},o.prototype._touchMove=function(o){Math.abs(o.touches[0].pageY-this._initialTouchPosition)>10&&(this._activeZoomClose(),t(o.target).off(\"touchmove.zoom\"))},i.OFFSET=80,i._MAX_WIDTH=2560,i._MAX_HEIGHT=4096,i.prototype.zoomImage=function(){var o=document.createElement(\"img\");o.onload=t.proxy(function(){this._fullHeight=Number(o.height),this._fullWidth=Number(o.width),this._zoomOriginal()},this),o.src=this._targetImage.src},i.prototype._zoomOriginal=function(){this._targetImageWrap=document.createElement(\"div\"),this._targetImageWrap.className=\"zoom-img-wrap\",this._targetImage.parentNode.insertBefore(this._targetImageWrap,this._targetImage),this._targetImageWrap.appendChild(this._targetImage),t(this._targetImage).addClass(\"zoom-img\").attr(\"data-action\",\"zoom-out\"),this._overlay=document.createElement(\"div\"),this._overlay.className=\"zoom-overlay\",document.body.appendChild(this._overlay),this._calculateZoom(),this._triggerAnimation()},i.prototype._calculateZoom=function(){this._targetImage.offsetWidth;var o=this._fullWidth,e=this._fullHeight,a=(t(window).scrollTop(),o/this._targetImage.width),s=t(window).height()-i.OFFSET,r=t(window).width()-i.OFFSET,n=o/e,h=r/s;this._imgScaleFactor=r>o&&s>e?a:h>n?s/e*a:r/o*a},i.prototype._triggerAnimation=function(){this._targetImage.offsetWidth;var o=t(this._targetImage).offset(),i=t(window).scrollTop(),e=i+t(window).height()/2,a=t(window).width()/2,s=o.top+this._targetImage.height/2,r=o.left+this._targetImage.width/2;this._translateY=e-s,this._translateX=a-r;var n=\"scale(\"+this._imgScaleFactor+\")\",h=\"translate(\"+this._translateX+\"px, \"+this._translateY+\"px)\";t.support.transition&&(h+=\" translateZ(0)\"),t(this._targetImage).css({\"-webkit-transform\":n,\"-ms-transform\":n,transform:n}),t(this._targetImageWrap).css({\"-webkit-transform\":h,\"-ms-transform\":h,transform:h}),this._$body.addClass(\"zoom-overlay-open\")},i.prototype.close=function(){return this._$body.removeClass(\"zoom-overlay-open\").addClass(\"zoom-overlay-transitioning\"),t(this._targetImage).css({\"-webkit-transform\":\"\",\"-ms-transform\":\"\",transform:\"\"}),t(this._targetImageWrap).css({\"-webkit-transform\":\"\",\"-ms-transform\":\"\",transform:\"\"}),t.support.transition?void t(this._targetImage).one(t.support.transition.end,t.proxy(this.dispose,this)).emulateTransitionEnd(300):this.dispose()},i.prototype.dispose=function(){this._targetImageWrap&&this._targetImageWrap.parentNode&&(t(this._targetImage).removeClass(\"zoom-img\").attr(\"data-action\",\"zoom\"),this._targetImageWrap.parentNode.replaceChild(this._targetImage,this._targetImageWrap),this._overlay.parentNode.removeChild(this._overlay),this._$body.removeClass(\"zoom-overlay-transitioning\"))},t(function(){(new o).listen()})}(jQuery);\n\n/**\n * Minified by jsDelivr using UglifyJS v3.1.10.\n * Original file: /npm/bootstrap-transition@3.1.1/index.js\n * \n * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files\n */\n+function(n){\"use strict\";n.fn.emulateTransitionEnd=function(t){var i=!1,r=this;n(this).one(n.support.transition.end,function(){i=!0});return setTimeout(function(){i||n(r).trigger(n.support.transition.end)},t),this},n(function(){n.support.transition=function(){var n=document.createElement(\"bootstrap\"),t={WebkitTransition:\"webkitTransitionEnd\",MozTransition:\"transitionend\",OTransition:\"oTransitionEnd otransitionend\",transition:\"transitionend\"};for(var i in t)if(void 0!==n.style[i])return{end:t[i]};return!1}()})}(require(\"jquery\"));\n"]}