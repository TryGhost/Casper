{"version":3,"sources":["basictable.js","jquery.fitvids.js","gallery-card.js","infinite-scroll.js"],"names":["basictable","constructor","tableSel","options","this","breakpoint","containerBreakpoint","contentWrap","forceResponsive","noResize","tableWrap","showEmptyCells","header","_getTables","_setup","tables","document","querySelectorAll","forEach","table","setAttribute","headings","tableWrapper","createElement","classList","add","parentNode","insertBefore","appendChild","format","length","heading","colspan","parseInt","getAttribute","parentRow","closest","row","indexOf","call","parentElement","children","i","push","_setupRow","_check","_tableResizeEvent","_resize","window","addEventListener","cell","innerHTML","trim","cellIndex","headingText","j","textContent","cellInnerWrapper","firstChild","innerWidth","offsetWidth","_start","_end","remove","getBoundingClientRect","left","start","stop","restart","destroy","removeAttribute","cells","td","content","querySelector","outerHTML","removeEventListener","$","fn","fitVids","head","div","settings","customSelector","ignore","getElementById","getElementsByTagName","childNodes","extend","each","selectors","ignoreList","$allVideos","find","join","not","aspectRatio","videoName","$this","parents","tagName","toLowerCase","parent","css","isNaN","attr","height","width","_count","wrap","removeAttr","jQuery","Zepto","image","container","attributes","value","style","flex","nextElement","feedElement","buffer","ticking","loading","lastScrollY","lastWindowHeight","lastDocumentHeight","onPageLoad","status","onScroll","onResize","response","item","importNode","resNextElement","href","documentElement","scrollHeight","onUpdate","xhr","XMLHttpRequest","responseType","open","send","requestTick","requestAnimationFrame","scrollY","innerHeight","getElementsByClassName","passive"],"mappings":"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","file":"casper.js","sourcesContent":["/*\r\n * @license Basictable - Vanilla JS | MIT | Jerry Low | https://www.github.com/jerrylow/basictable\r\n */\r\n\r\n'use strict'\r\n\r\nclass basictable { // eslint-disable-line no-unused-vars\r\n  constructor (tableSel, options = {}) {\r\n    const _defaultOptions = {\r\n      breakpoint: null,\r\n      containerBreakpoint: null,\r\n      contentWrap: true,\r\n      forceResponsive: true,\r\n      noResize: false,\r\n      tableWrap: false,\r\n      showEmptyCells: false,\r\n      header: true\r\n    }\r\n\r\n    this.tableSel = tableSel\r\n    this.options = { ..._defaultOptions, ...options }\r\n\r\n    if (this.options.breakpoint === null && this.options.containerBreakpoint === null) {\r\n      this.options.breakpoint = 568\r\n    }\r\n\r\n    this._getTables()\r\n    this._setup()\r\n  }\r\n\r\n  // @TODO: Convert to private class fields when supported.\r\n  _getTables () {\r\n    this.tables = document.querySelectorAll(this.tableSel)\r\n  }\r\n\r\n  _setup () {\r\n    this.tables.forEach(table => {\r\n      table.setAttribute('data-bt-active', true)\r\n\r\n      const headings = []\r\n\r\n      if (this.options.tableWrap) {\r\n        const tableWrapper = document.createElement('div')\r\n        tableWrapper.classList.add('bt-wrapper')\r\n        table.parentNode.insertBefore(tableWrapper, table)\r\n        tableWrapper.appendChild(table)\r\n      }\r\n\r\n      if (this.options.header) {\r\n        let format = ''\r\n\r\n        if (table.querySelectorAll('thead tr th').length) {\r\n          format = 'thead th'\r\n        } else if (table.querySelectorAll('tbody tr th').length) {\r\n          format = 'tbody tr th'\r\n        } else if (table.querySelectorAll('th').length) {\r\n          format = 'tr:first th'\r\n        } else {\r\n          format = 'tr:first td'\r\n        }\r\n\r\n        table.querySelectorAll(format).forEach(heading => {\r\n          const colspan = parseInt(heading.getAttribute('colspan'), 10) || 1\r\n          const parentRow = heading.closest('tr')\r\n          const row = [].indexOf.call(parentRow.parentElement.children, parentRow)\r\n\r\n          if (!headings[row]) {\r\n            headings[row] = []\r\n          }\r\n\r\n          for (let i = 0; i < colspan; i++) {\r\n            headings[row].push(heading)\r\n          }\r\n        })\r\n\r\n        // Table Body\r\n        table.querySelectorAll('tbody tr').forEach(row => this._setupRow(row, headings))\r\n\r\n        // Table Footer\r\n        table.querySelectorAll('tfoot tr').forEach(row => this._setupRow(row, headings))\r\n      }\r\n\r\n      if (!this.options.noResize) {\r\n        this._check(table)\r\n      }\r\n    })\r\n\r\n    if (!this.options.noResize) {\r\n      this._tableResizeEvent = () => this._resize()\r\n      window.addEventListener('resize', this._tableResizeEvent)\r\n    }\r\n  }\r\n\r\n  _setupRow (row, headings) {\r\n    row.querySelectorAll(':scope > *').forEach(cell => {\r\n      if ((cell.innerHTML.trim() === '' || cell.innerHTML === '&nbsp;') && this.options.showEmptyCells) {\r\n        cell.classList('bt-hide')\r\n      } else {\r\n        const cellIndex = [].indexOf.call(cell.parentElement.children, cell)\r\n\r\n        let headingText = ''\r\n\r\n        for (let j = 0; j < headings.length; j++) {\r\n          if (j !== 0) {\r\n            headingText += ': '\r\n          }\r\n\r\n          const heading = headings[j][cellIndex]\r\n          headingText += heading.textContent\r\n        }\r\n\r\n        cell.setAttribute('data-th', headingText)\r\n\r\n        // Wrap Cell Content\r\n        const cellInnerWrapper = document.createElement('span')\r\n        cellInnerWrapper.classList.add('bt-content')\r\n\r\n        if (this.options.contentWrap && cell.firstChild !== cellInnerWrapper) {\r\n          cell.appendChild(cellInnerWrapper)\r\n          while (cell.firstChild !== cellInnerWrapper) {\r\n            cellInnerWrapper.appendChild(cell.firstChild)\r\n          }\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  _check (table) {\r\n    // Only change when table is larger than parent if force\r\n    // responsive is turned off.\r\n    if (!this.options.forceResponsive) {\r\n      table.classList.remove('bt')\r\n      const tableSize = table.getBoundingClientRect().left + table.offsetWidth\r\n\r\n      if (tableSize > table.parentElement.offsetWidth) {\r\n        this._start(table)\r\n      } else {\r\n        this._end(table)\r\n      }\r\n    } else {\r\n      if ((this.options.breakpoint !== null && window.innerWidth <= this.options.breakpoint) || (this.options.containerBreakpoint !== null && table.parentElement.offsetWidth <= this.options.containerBreakpoint)) {\r\n        this._start(table)\r\n      } else {\r\n        this._end(table)\r\n      }\r\n    }\r\n  }\r\n\r\n  _start (table) {\r\n    table.classList.add('bt')\r\n\r\n    if (!this.options.header) {\r\n      table.classList.add('bt--no-header')\r\n    }\r\n\r\n    if (this.options.tableWrap) {\r\n      table.closest('.bt-wrapper').classList.add('active')\r\n    }\r\n  }\r\n\r\n  _end (table) {\r\n    table.classList.remove('bt', 'bt--no-header')\r\n\r\n    if (this.options.tableWrap) {\r\n      table.closest('.bt-wrapper').classList.remove('active')\r\n    }\r\n  };\r\n\r\n  _resize (table) {\r\n    this.tables.forEach(table => {\r\n      if (table.getAttribute('data-bt-active')) {\r\n        this._check(table)\r\n      }\r\n    })\r\n  };\r\n\r\n  start () {\r\n    this.tables.forEach(table => {\r\n      this._start(table)\r\n    })\r\n  }\r\n\r\n  stop () {\r\n    this.tables.forEach(table => {\r\n      this._end(table)\r\n    })\r\n  }\r\n\r\n  restart () {\r\n    this.destroy()\r\n    this._getTables()\r\n    this._setup()\r\n  }\r\n\r\n  destroy () {\r\n    this.tables.forEach(table => {\r\n      if (table.getAttribute('data-bt-active')) {\r\n        table.classList.remove('bt', 'bt--no-header')\r\n        table.removeAttribute('data-bt-active')\r\n        const cells = table.querySelectorAll('td')\r\n        cells.forEach(td => td.removeAttribute('data-th'))\r\n\r\n        if (this.options.contentWrap) {\r\n          cells.forEach(td => {\r\n            const content = td.querySelector('.bt-content')\r\n            if (content) {\r\n              td.innerHTML = content.innerHTML\r\n            }\r\n          })\r\n        }\r\n\r\n        if (this.options.tableWrap) {\r\n          table.parentNode.outerHTML = table.parentNode.innerHTML\r\n        }\r\n      }\r\n    })\r\n\r\n    if (!this.options.noResize) {\r\n      window.removeEventListener('resize', this._tableResizeEvent)\r\n    }\r\n  }\r\n};","/*jshint browser:true */\r\n/*!\r\n* FitVids 1.3\r\n*\r\n*\r\n* Copyright 2017, Chris Coyier + Dave Rupert + Ghost Foundation\r\n* This is an unofficial release, ported by John O'Nolan\r\n* Credit to Thierry Koblentz - http://www.alistapart.com/articles/creating-intrinsic-ratios-for-video/\r\n* Released under the MIT license\r\n*\r\n*/\r\n\r\n;(function( $ ){\r\n\r\n  'use strict';\r\n\r\n  $.fn.fitVids = function( options ) {\r\n    var settings = {\r\n      customSelector: null,\r\n      ignore: null\r\n    };\r\n\r\n    if(!document.getElementById('fit-vids-style')) {\r\n      // appendStyles: https://github.com/toddmotto/fluidvids/blob/master/dist/fluidvids.js\r\n      var head = document.head || document.getElementsByTagName('head')[0];\r\n      var css = '.fluid-width-video-container{flex-grow: 1;width:100%;}.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}';\r\n      var div = document.createElement(\"div\");\r\n      div.innerHTML = '<p>x</p><style id=\"fit-vids-style\">' + css + '</style>';\r\n      head.appendChild(div.childNodes[1]);\r\n    }\r\n\r\n    if ( options ) {\r\n      $.extend( settings, options );\r\n    }\r\n\r\n    return this.each(function(){\r\n      var selectors = [\r\n        'iframe[src*=\"player.vimeo.com\"]',\r\n        'iframe[src*=\"youtube.com\"]',\r\n        'iframe[src*=\"youtube-nocookie.com\"]',\r\n        'iframe[src*=\"kickstarter.com\"][src*=\"video.html\"]',\r\n        'object',\r\n        'embed'\r\n      ];\r\n\r\n      if (settings.customSelector) {\r\n        selectors.push(settings.customSelector);\r\n      }\r\n\r\n      var ignoreList = '.fitvidsignore';\r\n\r\n      if(settings.ignore) {\r\n        ignoreList = ignoreList + ', ' + settings.ignore;\r\n      }\r\n\r\n      var $allVideos = $(this).find(selectors.join(','));\r\n      $allVideos = $allVideos.not('object object'); // SwfObj conflict patch\r\n      $allVideos = $allVideos.not(ignoreList); // Disable FitVids on this video.\r\n\r\n      $allVideos.each(function(){\r\n        var $this = $(this);\r\n        if($this.parents(ignoreList).length > 0) {\r\n          return; // Disable FitVids on this video.\r\n        }\r\n        if (this.tagName.toLowerCase() === 'embed' && $this.parent('object').length || $this.parent('.fluid-width-video-wrapper').length) { return; }\r\n        if ((!$this.css('height') && !$this.css('width')) && (isNaN($this.attr('height')) || isNaN($this.attr('width'))))\r\n        {\r\n          $this.attr('height', 9);\r\n          $this.attr('width', 16);\r\n        }\r\n        var height = ( this.tagName.toLowerCase() === 'object' || ($this.attr('height') && !isNaN(parseInt($this.attr('height'), 10))) ) ? parseInt($this.attr('height'), 10) : $this.height(),\r\n            width = !isNaN(parseInt($this.attr('width'), 10)) ? parseInt($this.attr('width'), 10) : $this.width(),\r\n            aspectRatio = height / width;\r\n        if(!$this.attr('name')){\r\n          var videoName = 'fitvid' + $.fn.fitVids._count;\r\n          $this.attr('name', videoName);\r\n          $.fn.fitVids._count++;\r\n        }\r\n        $this.wrap('<div class=\"fluid-width-video-container\"><div class=\"fluid-width-video-wrapper\"></div></div>').parent('.fluid-width-video-wrapper').css('padding-top', (aspectRatio * 100)+'%');\r\n        $this.removeAttr('height').removeAttr('width');\r\n      });\r\n    });\r\n  };\r\n\r\n  // Internal counter for unique video names.\r\n  $.fn.fitVids._count = 0;\r\n\r\n// Works with either jQuery or Zepto\r\n})( window.jQuery || window.Zepto );\r\n","/* eslint-env browser */\r\n\r\n/**\r\n * Gallery card support\r\n * Used on any individual post/page\r\n *\r\n * Detects when a gallery card has been used and applies sizing to make sure\r\n * the display matches what is seen in the editor.\r\n */\r\n\r\n(function (window, document) {\r\n    var resizeImagesInGalleries = function resizeImagesInGalleries() {\r\n        var images = document.querySelectorAll('.kg-gallery-image img');\r\n        images.forEach(function (image) {\r\n            var container = image.closest('.kg-gallery-image');\r\n            var width = image.attributes.width.value;\r\n            var height = image.attributes.height.value;\r\n            var ratio = width / height;\r\n            container.style.flex = ratio + ' 1 0%';\r\n        });\r\n    };\r\n\r\n    document.addEventListener('DOMContentLoaded', resizeImagesInGalleries);\r\n})(window, document);\r\n","/* eslint-env browser */\r\n\r\n/**\r\n * Infinite Scroll\r\n * Used on all pages where there is a list of posts (homepage, tag index, etc).\r\n *\r\n * When the page is scrolled to 300px from the bottom, the next page of posts\r\n * is fetched by following the the <link rel=\"next\" href=\"...\"> that is output\r\n * by {{ghost_head}}.\r\n *\r\n * The individual post items are extracted from the fetched pages by looking for\r\n * a wrapper element with the class \"post-card\". Any found elements are appended\r\n * to the element with the class \"post-feed\" in the currently viewed page.\r\n */\r\n\r\n(function (window, document) {\r\n    // custom switch to prevent infinite scroll when pagination controls are present\r\n    if (document.getElementsByClassName('pagination').length){\r\n        return;\r\n    }\r\n    // next link element\r\n    var nextElement = document.querySelector('link[rel=next]');\r\n    if (!nextElement) {\r\n        return;\r\n    }\r\n\r\n    // post feed element\r\n    var feedElement = document.querySelector('.post-feed');\r\n    if (!feedElement) {\r\n        return;\r\n    }\r\n\r\n    var buffer = 300;\r\n\r\n    var ticking = false;\r\n    var loading = false;\r\n\r\n    var lastScrollY = window.scrollY;\r\n    var lastWindowHeight = window.innerHeight;\r\n    var lastDocumentHeight = document.documentElement.scrollHeight;\r\n\r\n    function onPageLoad() {\r\n        if (this.status === 404) {\r\n            window.removeEventListener('scroll', onScroll);\r\n            window.removeEventListener('resize', onResize);\r\n            return;\r\n        }\r\n\r\n        // append contents\r\n        var postElements = this.response.querySelectorAll('article.post-card');\r\n        postElements.forEach(function (item) {\r\n            // document.importNode is important, without it the item's owner\r\n            // document will be different which can break resizing of\r\n            // `object-fit: cover` images in Safari\r\n            feedElement.appendChild(document.importNode(item, true));\r\n        });\r\n\r\n        // set next link\r\n        var resNextElement = this.response.querySelector('link[rel=next]');\r\n        if (resNextElement) {\r\n            nextElement.href = resNextElement.href;\r\n        } else {\r\n            window.removeEventListener('scroll', onScroll);\r\n            window.removeEventListener('resize', onResize);\r\n        }\r\n\r\n        // sync status\r\n        lastDocumentHeight = document.documentElement.scrollHeight;\r\n        ticking = false;\r\n        loading = false;\r\n    }\r\n\r\n    function onUpdate() {\r\n        // return if already loading\r\n        if (loading) {\r\n            return;\r\n        }\r\n\r\n        // return if not scroll to the bottom\r\n        if (lastScrollY + lastWindowHeight <= lastDocumentHeight - buffer) {\r\n            ticking = false;\r\n            return;\r\n        }\r\n\r\n        loading = true;\r\n\r\n        var xhr = new window.XMLHttpRequest();\r\n        xhr.responseType = 'document';\r\n\r\n        xhr.addEventListener('load', onPageLoad);\r\n\r\n        xhr.open('GET', nextElement.href);\r\n        xhr.send(null);\r\n    }\r\n\r\n    function requestTick() {\r\n        ticking || window.requestAnimationFrame(onUpdate);\r\n        ticking = true;\r\n    }\r\n\r\n    function onScroll() {\r\n        lastScrollY = window.scrollY;\r\n        requestTick();\r\n    }\r\n\r\n    function onResize() {\r\n        lastWindowHeight = window.innerHeight;\r\n        lastDocumentHeight = document.documentElement.scrollHeight;\r\n        requestTick();\r\n    }\r\n\r\n    window.addEventListener('scroll', onScroll, {passive: true});\r\n    window.addEventListener('resize', onResize);\r\n\r\n    requestTick();\r\n})(window, document);\r\n"]}